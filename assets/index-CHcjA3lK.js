import{r as t,j as e,u as je,a as ve,c as _e,d as Pe,F as Ee,e as Fe,f as Re,g as $e,h as Ae,i as Be,b as Ie,k as Me,s as Te,H as Ue,l as De,E as We,P as Oe}from"./index-CEw6XCQe.js";import{B as U,a as ze}from"./index-fAhQA9LH.js";import{i as Ve}from"./auth-drYXe8pc.js";import"./imageUrl-1dNZjTSy.js";const qe=({children:r,open:n,onClose:i,maxWidth:g="md",fullWidth:h=!1,className:d=""})=>{const w=t.useRef(null);if(t.useEffect(()=>{const m=f=>{f.key==="Escape"&&n&&i&&i()},p=f=>{w.current&&!w.current.contains(f.target)&&n&&i&&i()};return n&&(document.addEventListener("keydown",m),document.addEventListener("mousedown",p),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",m),document.removeEventListener("mousedown",p),document.body.style.overflow=""}},[n,i]),!n)return null;const b=["dialog",`dialog--${g}`,h?"dialog--full-width":"",d].filter(Boolean).join(" ");return e.jsx("div",{className:"dialog-overlay",children:e.jsx("div",{className:b,ref:w,role:"dialog","aria-modal":"true",children:r})})},He=({children:r,className:n=""})=>{const i=["dialog__title",n].filter(Boolean).join(" ");return e.jsx("div",{className:i,children:r})},Ze=({children:r,className:n=""})=>{const i=["dialog__content",n].filter(Boolean).join(" ");return e.jsx("div",{className:i,children:r})},Ge=({children:r,className:n=""})=>{const i=["dialog__actions",n].filter(Boolean).join(" ");return e.jsx("div",{className:i,children:r})},Qe=({label:r,error:n,helperText:i,fullWidth:g=!1,prefix:h,suffix:d,variant:w="outlined",required:b=!1,className:m="",onChange:p,onFocus:f,onBlur:E,...F})=>{const[B,I]=t.useState(!1),M=v=>{I(!0),f&&f(v)},j=v=>{I(!1),E&&E(v)},l=["text-field",`text-field--${w}`,g?"text-field--full-width":"",B?"text-field--focused":"",n?"text-field--error":"",m].filter(Boolean).join(" ");return e.jsxs("div",{className:l,children:[r&&e.jsxs("label",{className:"text-field__label",children:[r,b&&e.jsx("span",{className:"text-field__required",children:"*"})]}),e.jsxs("div",{className:"text-field__input-container",children:[h&&e.jsx("div",{className:"text-field__prefix",children:h}),e.jsx("input",{className:"text-field__input",onFocus:M,onBlur:j,onChange:p,"aria-invalid":!!n,"aria-required":b,...F}),d&&e.jsx("div",{className:"text-field__suffix",children:d})]}),(n||i)&&e.jsx("div",{className:`text-field__helper ${n?"text-field__helper--error":""}`,children:n||i})]})},Je=({label:r,error:n,helperText:i,fullWidth:g=!1,variant:h="outlined",required:d=!1,className:w="",children:b,onChange:m,onFocus:p,onBlur:f,...E})=>{const[F,B]=t.useState(!1),I=l=>{B(!0),p&&p(l)},M=l=>{B(!1),f&&f(l)},j=["select",`select--${h}`,g?"select--full-width":"",F?"select--focused":"",n?"select--error":"",w].filter(Boolean).join(" ");return e.jsxs("div",{className:j,children:[r&&e.jsxs("label",{className:"select__label",children:[r,d&&e.jsx("span",{className:"select__required",children:"*"})]}),e.jsxs("div",{className:"select__container",children:[e.jsx("select",{className:"select__input",onFocus:I,onBlur:M,onChange:m,"aria-invalid":!!n,"aria-required":d,...E,children:b}),e.jsx("div",{className:"select__arrow",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),(n||i)&&e.jsx("div",{className:`select__helper ${n?"select__helper--error":""}`,children:n||i})]})},Ke=({open:r,onClose:n})=>{var z;const{t:i}=je(),g=ve(),[h,d]=t.useState(""),[w,b]=t.useState(""),[m,p]=t.useState("idle"),[f,E]=t.useState(null),{data:F,isLoading:B}=_e(),[I,{isLoading:M,isSuccess:j,error:l,data:v}]=Pe();t.useEffect(()=>{r&&(d(""),b(""),p("idle"),E(null))},[r]),t.useEffect(()=>{M?p("loading"):j&&v?(p("success"),E(v.data.id)):l&&p("error")},[M,j,l,v]);const k=async()=>{if(h)try{await I({url:h,categoryId:w||void 0}).unwrap()}catch(o){console.error("Failed to import listing:",o)}},O=()=>{f&&(n(),g(`/listings/${(v==null?void 0:v.data.slug)||f}`))},R=o=>{try{return new URL(o),!0}catch{return!1}};return e.jsxs(qe,{open:r,onClose:m!=="loading"?n:void 0,maxWidth:"sm",fullWidth:!0,children:[e.jsx(He,{children:i("import.title","Import listing from URL")}),e.jsx(Ze,{children:m==="idle"||m==="loading"?e.jsxs("div",{className:"import-dialog__form",children:[e.jsx("div",{className:"import-dialog__field",children:e.jsx(Qe,{label:i("import.url","URL"),placeholder:i("import.urlPlaceholder","Enter product URL"),value:h,onChange:o=>d(o.target.value),fullWidth:!0,required:!0,disabled:m==="loading",error:h&&!R(h)?i("import.invalidUrl","Please enter a valid URL"):void 0,prefix:e.jsx(Ee,{})})}),e.jsx("div",{className:"import-dialog__field",children:e.jsxs(Je,{label:i("import.category","Category"),value:w,onChange:o=>b(o.target.value),fullWidth:!0,disabled:m==="loading"||B,children:[e.jsx("option",{value:"",children:i("import.selectCategory","Select a category")}),F==null?void 0:F.map(o=>e.jsx("option",{value:o.id,children:o.name},o.id))]})}),e.jsx("div",{className:"import-dialog__note",children:e.jsx("p",{children:i("import.note","Note: This will attempt to extract product information from the provided URL. The results may vary depending on the website structure.")})})]}):m==="success"?e.jsxs("div",{className:"import-dialog__success",children:[e.jsx("div",{className:"import-dialog__success-icon",children:e.jsx(Fe,{size:48})}),e.jsx("h3",{children:i("import.success","Import successful!")}),e.jsx("p",{children:i("import.successMessage","The listing has been successfully imported and is ready to be published.")})]}):e.jsxs("div",{className:"import-dialog__error",children:[e.jsx("div",{className:"import-dialog__error-icon",children:e.jsx(Re,{size:48})}),e.jsx("h3",{children:i("import.error","Import failed")}),e.jsx("p",{children:i("import.errorMessage","There was an error importing the listing. Please check the URL and try again.")}),l&&e.jsx("div",{className:"import-dialog__error-details",children:typeof l=="object"&&"data"in l?((z=l.data)==null?void 0:z.message)||JSON.stringify(l):String(l)})]})}),e.jsx(Ge,{children:m==="idle"?e.jsxs(e.Fragment,{children:[e.jsx(U,{variant:"outline",onClick:n,children:i("common.cancel","Cancel")}),e.jsx(U,{variant:"primary",onClick:k,disabled:!h||!R(h)||m!=="idle",children:i("import.importButton","Import")})]}):m==="loading"?e.jsxs(U,{variant:"primary",disabled:!0,children:[e.jsx($e,{className:"spin"})," ",i("import.importing","Importing...")]}):m==="success"?e.jsxs(e.Fragment,{children:[e.jsx(U,{variant:"outline",onClick:n,children:i("common.close","Close")}),e.jsx(U,{variant:"primary",onClick:O,children:i("import.viewListing","View Listing")})]}):e.jsxs(e.Fragment,{children:[e.jsx(U,{variant:"outline",onClick:n,children:i("common.close","Close")}),e.jsx(U,{variant:"primary",onClick:()=>p("idle"),children:i("import.tryAgain","Try Again")})]})})]})},Xe=()=>e.jsxs("div",{className:"listings-page__skeleton",children:[e.jsx("div",{className:"listings-page__skeleton-image"}),e.jsxs("div",{className:"listings-page__skeleton-content",children:[e.jsx("div",{className:"listings-page__skeleton-title"}),e.jsx("div",{className:"listings-page__skeleton-price"}),e.jsx("div",{className:"listings-page__skeleton-meta"})]})]}),ns=()=>{var de,ge,me;const r=Ae(),n=ve(),{t:i}=je(),{categorySlug:g}=Be(),h=t.useRef(null),d=new URLSearchParams(r.search),w=parseInt(d.get("page")||"1",10),b=parseInt(d.get("limit")||"12",10),m=d.get("sort")||"createdAt",p=d.get("order")||"DESC",f=d.get("minPrice")||"",E=d.get("maxPrice")||"",F=d.get("condition")||"",B=d.get("location")||"",I=d.get("search")||"",M=localStorage.getItem("listingsViewMode")||"grid",[j,l]=t.useState(w),[v]=t.useState(b),[k,O]=t.useState(m),[R,z]=t.useState(p),[o,V]=t.useState(f),[_,Q]=t.useState(E),[y,J]=t.useState(F),[N,K]=t.useState(B),[u,q]=t.useState(I),[$,D]=t.useState(!1),[c,H]=t.useState(g||""),[S,te]=t.useState(M),[Z,Y]=t.useState(""),we=t.useMemo(()=>{let s="createdAt",a="DESC";switch(k){case"newest":s="createdAt",a="DESC";break;case"oldest":s="createdAt",a="ASC";break;case"price-low":s="price",a="ASC";break;case"price-high":s="price",a="DESC";break;case"a-z":s="title",a="ASC";break;case"z-a":s="title",a="DESC";break;default:s="createdAt",a="DESC"}return{page:j,limit:v,sort:s,order:a,category:c,minPrice:o?parseInt(o):void 0,maxPrice:_?parseInt(_):void 0,condition:y||void 0,location:N||void 0,search:u||void 0}},[j,v,k,R,c,o,_,y,N,u]),{data:x,isLoading:ne,error:ae,refetch:L}=Ie(we,{refetchOnMountOrArgChange:!1}),{data:T,isLoading:Ye}=_e(void 0),W=c&&T&&T.find(s=>s.slug===c)||null,le=t.useCallback(()=>{const s=new URLSearchParams;j>1&&s.set("page",j.toString()),c&&s.set("category",c),o&&s.set("minPrice",o),_&&s.set("maxPrice",_),y&&s.set("condition",y),N&&s.set("location",N),u&&s.set("search",u),k!=="createdAt"&&s.set("sort",k),R!=="desc"&&s.set("order",R),S!=="grid"&&s.set("viewMode",S);const a=`${window.location.pathname}${s.toString()?"?"+s.toString():""}`;window.history.replaceState({},"",a)},[j,c,o,_,y,N,u,k,R,S]);t.useEffect(()=>{const s=new URLSearchParams(window.location.search),a=s.get("page");a&&l(parseInt(a,10));const C=s.get("category");C&&H(C);const A=s.get("minPrice");A&&V(A);const G=s.get("maxPrice");G&&Q(G);const he=s.get("condition");he&&J(he);const ue=s.get("location");ue&&K(ue);const ie=s.get("search");ie&&(q(ie),Y(ie));const pe=s.get("sort");pe&&O(pe);const xe=s.get("order");xe&&z(xe);const fe=s.get("viewMode");fe&&te(fe)},[]),t.useEffect(()=>{const s=setTimeout(()=>{le()},300);return()=>clearTimeout(s)},[le]),t.useEffect(()=>{l(1)},[o,_,y,N,u,c]),t.useEffect(()=>{console.log("URL category changed:",g,"current selectedCategory:",c),g&&g!==c&&(console.log("Updating category from URL param to:",g),H(g),l(1),setTimeout(()=>{console.log("Refetching after URL category change to:",g),L()},200))},[g,c,L]),t.useEffect(()=>{localStorage.setItem("listingsViewMode",S)},[S]),t.useEffect(()=>{const s=a=>{h.current&&!h.current.contains(a.target)&&D(!1)};return $&&(document.addEventListener("mousedown",s),document.body.style.overflow="hidden"),()=>{document.removeEventListener("mousedown",s),document.body.style.overflow=""}},[$]),t.useEffect(()=>{const s=()=>{window.innerWidth>=992&&$&&D(!1)};return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[$]);const ye=s=>{l(s),window.scrollTo({top:0,behavior:"smooth"})},P=()=>{l(1),console.log("Filter changed:",{category:c,minPrice:o,maxPrice:_,condition:y,location:N,search:u,sort:k}),setTimeout(()=>{L()},50),window.innerWidth<992&&D(!1)};t.useEffect(()=>{const s=setTimeout(()=>{u!==Z&&(console.log("Debounced search updated to:",u),Y(u),l(1),setTimeout(()=>{console.log("Refetching with debounced search:",u),L()},50))},500);return()=>clearTimeout(s)},[u,Z,L]);const Ne=s=>{console.log("Search input changed to:",s.target.value),q(s.target.value)},Ce=()=>{var a;const s=[];if(c){const C=((a=T==null?void 0:T.find(A=>A.slug===c))==null?void 0:a.name)||c;s.push({id:"category",label:`${i("listings.category")}: ${C}`,onRemove:()=>{r.pathname===`/${c}`||r.pathname===`/categories/${c}`?n("/listings"):(console.log("Removing category filter chip, was:",c),H(""),setTimeout(()=>{console.log("Refetching after category chip removal"),L()},50))}})}return o&&s.push({id:"minPrice",label:`${i("listings.minPrice")}: ${o}`,onRemove:()=>{V(""),setTimeout(()=>P(),10)}}),_&&s.push({id:"maxPrice",label:`${i("listings.maxPrice")}: ${_}`,onRemove:()=>{Q(""),setTimeout(()=>P(),10)}}),y&&s.push({id:"condition",label:`${i("listings.condition")}: ${i(`condition.${y}`)}`,onRemove:()=>{J(""),setTimeout(()=>P(),10)}}),N&&s.push({id:"location",label:`${i("listings.location")}: ${N}`,onRemove:()=>{K(""),setTimeout(()=>P(),10)}}),u&&s.push({id:"search",label:`${i("listings.search")}: ${u}`,onRemove:()=>{console.log("Removing search chip, was:",u),q(""),Y(""),setTimeout(()=>{console.log("Refetching after search removal"),L()},50)}}),s},be=s=>{s.preventDefault(),console.log("Search submitted:",Z),q(Z),l(1),setTimeout(()=>{console.log("Refetching with search term:",Z),L()},50)},ee=()=>{V(""),Q(""),J(""),K(""),q(""),O("newest"),z("DESC"),l(1),g||H(""),setTimeout(()=>{L()},50)},ke=()=>{D(!$)},oe=s=>{te(s)};W?i("listings.categoryTitle",{category:W.name}):u?i("listings.searchTitle",{query:u}):i("listings.pageTitle");const X=!!(o||_||y||N||c&&!g||k!=="createdAt"||R!=="DESC"),Se=()=>{let s=0;return(o||_)&&s++,y&&s++,N&&s++,c&&!g&&s++,(k!=="createdAt"||R!=="DESC")&&s++,s};t.useEffect(()=>(document.documentElement.style.scrollBehavior="smooth",()=>{document.documentElement.style.scrollBehavior=""}),[]);const[Le,re]=t.useState(!1),se=Me(Te),ce=t.useMemo(()=>se&&Ve(se),[se]);return e.jsxs("div",{className:"listings-page",children:[e.jsxs(Ue,{children:[e.jsx("title",{children:W?`${W.name} - ${i("app.name","Mart.az")}`:i("listings.browseCatalog","Browse Listings")}),e.jsx("meta",{name:"description",content:W?`${i("seo.browseCategory","Browse listings in")} ${W.name}`:i("seo.browseAllListings","Browse all listings available for sale")})]}),e.jsx("div",{className:"listings-page__banner",children:e.jsx("div",{className:"listings-page__container",children:e.jsx("div",{className:"listings-page__banner-content",children:e.jsx("form",{className:"listings-page__search-form",onSubmit:be,children:e.jsxs("div",{className:"listings-page__search-input",children:[e.jsx("input",{type:"text",value:u,onChange:Ne,placeholder:i("listings.searchPlaceholder"),"aria-label":i("listings.searchPlaceholder")}),e.jsx("button",{type:"submit","aria-label":i("common.search"),children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})})]})})})})}),e.jsxs("div",{className:"listings-page__container",children:[e.jsx("div",{className:"listings-page__filter-bar",children:e.jsx("div",{className:"listings-page__filter-left",children:e.jsxs("button",{className:"listings-page__filter-button",onClick:ke,"aria-expanded":$,"aria-controls":"filter-panel",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),e.jsx("span",{children:i("listings.filters")}),X&&e.jsx("span",{className:"listings-page__filter-badge",children:Se()})]})})}),e.jsxs("div",{className:"listings-page__content",children:[e.jsxs("div",{className:`listings-page__filter-panel ${$?"is-open":""}`,id:"filter-panel",ref:h,"aria-hidden":!$,children:[e.jsxs("div",{className:"listings-page__filter-header",children:[e.jsx("h2",{children:i("listings.filters")}),e.jsx("button",{className:"listings-page__filter-close",onClick:()=>D(!1),"aria-label":i("common.closeMenu"),children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:"listings-page__filter-body",children:[e.jsx("div",{className:"listings-page__desktop-filters",children:e.jsxs("div",{className:"listings-page__filter-controls",children:[T&&T.length>0&&e.jsx("div",{className:"listings-page__filter-item",children:e.jsxs("select",{value:c,onChange:s=>{console.log("Category changed to:",s.target.value);const a=s.target.value;H(a),l(1);const C=new URLSearchParams(window.location.search);a?C.set("category",a):C.delete("category");const A=`${window.location.pathname}${C.toString()?"?"+C.toString():""}`;window.history.replaceState({},"",A),setTimeout(()=>{console.log("About to refetch with category:",a),L()},50)},className:"listings-page__filter-select","aria-label":i("listings.categories"),children:[e.jsx("option",{value:"",children:i("listings.allCategories")}),T.map(s=>e.jsx("option",{value:s.slug,children:s.name},s.id))]})}),e.jsxs("div",{className:"listings-page__filter-item listings-page__filter-price",children:[e.jsx("input",{type:"number",placeholder:i("listings.minPrice"),value:o,onChange:s=>V(s.target.value),onBlur:P,className:"listings-page__filter-input",min:"0","aria-label":i("listings.minPrice")}),e.jsx("span",{className:"listings-page__price-separator",children:"-"}),e.jsx("input",{type:"number",placeholder:i("listings.maxPrice"),value:_,onChange:s=>Q(s.target.value),onBlur:P,className:"listings-page__filter-input",min:"0","aria-label":i("listings.maxPrice")})]}),e.jsx("div",{className:"listings-page__filter-item",children:e.jsxs("select",{value:y,onChange:s=>{J(s.target.value),P()},className:"listings-page__filter-select","aria-label":i("listings.condition"),children:[e.jsx("option",{value:"",children:i("listings.anyCondition")}),e.jsx("option",{value:"new",children:i("condition.new")}),e.jsx("option",{value:"like-new",children:i("condition.like-new")}),e.jsx("option",{value:"good",children:i("condition.good")}),e.jsx("option",{value:"fair",children:i("condition.fair")}),e.jsx("option",{value:"poor",children:i("condition.poor")})]})}),e.jsx("div",{className:"listings-page__filter-item",children:e.jsx("input",{type:"text",placeholder:i("listings.location"),value:N,onChange:s=>K(s.target.value),onBlur:P,className:"listings-page__filter-input","aria-label":i("listings.location")})}),e.jsxs("div",{className:"listings-page__filter-actions-inline",children:[e.jsx("button",{className:"listings-page__filter-apply-inline",onClick:P,children:i("listings.apply")}),X&&e.jsx("button",{className:"listings-page__filter-clear-inline",onClick:ee,children:i("listings.clear")})]})]})}),X&&e.jsxs("div",{className:"listings-page__filter-chips",children:[Ce().map(s=>e.jsxs("div",{className:"listings-page__filter-chip",children:[e.jsx("span",{className:"listings-page__filter-chip-label",children:s.label}),e.jsx("button",{className:"listings-page__filter-chip-remove",onClick:()=>{s.onRemove(),l(1)},"aria-label":`${i("listings.remove")} ${s.label}`,children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},s.id)),e.jsx("button",{className:"listings-page__filter-chip listings-page__filter-clear-all",onClick:ee,children:e.jsx("span",{children:i("listings.clearAll")})})]})]})]}),e.jsxs("div",{className:"listings-page__results",children:[e.jsxs("div",{className:"listings-page__results-header",children:[e.jsx("div",{className:"listings-page__results-count",children:ne?e.jsx(e.Fragment,{children:i("listings.loading","Loading listings...")}):ae?e.jsx(e.Fragment,{children:i("listings.error","Error loading listings")}):(de=x==null?void 0:x.data)!=null&&de.listings?e.jsx(e.Fragment,{children:i("listings.resultsCount","{{count}} listings found",{count:x.data.total||x.data.listings.length})}):e.jsx(e.Fragment,{children:i("listings.noResults","No listings found")})}),e.jsxs("div",{className:"listings-page__results-controls",children:[e.jsxs("div",{className:"listings-page__sort-section",children:[e.jsxs("label",{htmlFor:"sort",children:[i("listings.sortBy","Sort by"),":"]}),e.jsxs("select",{id:"sort",className:"listings-page__sort-select",value:k,onChange:s=>{O(s.target.value),P()},children:[e.jsx("option",{value:"newest",children:i("listings.sortNewest","Newest")}),e.jsx("option",{value:"oldest",children:i("listings.sortOldest","Oldest")}),e.jsx("option",{value:"price-low",children:i("listings.sortPriceLow","Price: Low to High")}),e.jsx("option",{value:"price-high",children:i("listings.sortPriceHigh","Price: High to Low")}),e.jsx("option",{value:"a-z",children:i("listings.sortAZ","A-Z")}),e.jsx("option",{value:"z-a",children:i("listings.sortZA","Z-A")})]})]}),ce&&e.jsxs(U,{variant:"outline",size:"sm",onClick:()=>re(!0),className:"listings-page__import-button",children:[e.jsx(De,{size:16}),i("listings.import","Import")]}),e.jsxs("div",{className:"listings-page__view-options",children:[e.jsx("button",{className:`listings-page__view-button ${S==="grid"?"active":""}`,onClick:()=>oe("grid"),"aria-label":i("listings.gridView"),"aria-pressed":S==="grid",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),e.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})}),e.jsx("button",{className:`listings-page__view-button ${S==="list"?"active":""}`,onClick:()=>oe("list"),"aria-label":i("listings.listView"),"aria-pressed":S==="list",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),e.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),e.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),e.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),e.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),e.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]})})]})]})]}),e.jsx("div",{className:"listings-page__results-list",children:ne?e.jsx("div",{className:`listings-page__${S}`,children:Array(8).fill(0).map((s,a)=>e.jsx(Xe,{},a))}):ae?e.jsx(We,{message:i("listings.error")}):(ge=x==null?void 0:x.data)!=null&&ge.listings&&x.data.listings.length>0?e.jsx("div",{className:`listings-page__${S}`,children:x.data.listings.map(s=>{var a,C,A,G;return e.jsx(ze,{id:s.id,title:s.title,slug:s.slug,price:s.price,currency:s.currency,location:s.location,condition:s.condition,featuredImage:s.featuredImage,images:s.images,createdAt:s.createdAt,isPromoted:s.isPromoted,isFeatured:s.isFeatured,categoryName:(a=s.category)==null?void 0:a.name,categorySlug:(C=s.category)==null?void 0:C.slug,userName:(A=s.user)==null?void 0:A.firstName,userImage:(G=s.user)==null?void 0:G.profileImage},s.id)})}):e.jsxs("div",{className:"listings-page__empty",children:[e.jsx("div",{className:"listings-page__empty-icon",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),e.jsx("h2",{className:"listings-page__empty-title",children:i("listings.noResults")}),e.jsx("p",{className:"listings-page__empty-text",children:i("listings.tryDifferentFilters")}),X&&e.jsx("button",{className:"listings-page__empty-clear",onClick:ee,children:i("listings.clearFilters")})]})}),((me=x==null?void 0:x.data)==null?void 0:me.totalPages)&&x.data.totalPages>1&&e.jsx("div",{className:"listings-page__pagination",children:e.jsx(Oe,{currentPage:j,totalPages:x.data.totalPages,onPageChange:ye})})]})]})]}),$&&e.jsx("div",{className:"listings-page__overlay",onClick:()=>D(!1),"aria-hidden":"true"}),ce&&e.jsx(Ke,{open:Le,onClose:()=>re(!1)})]})};export{ns as default};
