import{r as a,j as e}from"./index-CEw6XCQe.js";var p={};const r=p.REACT_APP_IMAGE_SERVER_URL||"http://localhost:3001";function n(s){if(!s){const t=`${r}/images/placeholder.jpg`;return console.log("No image path provided, using placeholder:",t),t}if(s.startsWith("http://")||s.startsWith("https://"))return console.log("Image is already a full URL:",s),s;if(s.startsWith("/tmp/")){const t=s.substring(5),l=`${r}/images/${t}`;return console.log("Transformed /tmp/ path:",s,"to:",l),l}if(!s.includes("/")){const t=`${r}/images/${s}`;return console.log("Transformed filename:",s,"to:",t),t}const o=`${r}${s.startsWith("/")?"":"/"}${s}`;return console.log("Using default path transformation:",s,"to:",o),o}var c={};const g=["http://localhost:3001/images/placeholder.jpg",n("placeholder.jpg"),n("/tmp/test.jpg"),n("/test.jpg"),"/tmp/test.jpg","tmp/test.jpg","test.jpg","/test.jpg"],m=({url:s,index:o})=>{const[t,l]=a.useState("loading"),[u,h]=a.useState(s),i=()=>{console.error(`Image #${o} failed to load:`,s),l("error")},d=()=>{console.log(`Image #${o} loaded successfully:`,s),l("success")};return e.jsxs("div",{className:"image-test-item",children:[e.jsxs("h3",{children:["Test Image #",o+1]}),e.jsxs("div",{className:"image-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Original URL:"})," ",s]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",e.jsx("span",{className:t,children:t})]})]}),e.jsxs("div",{className:"image-container",children:[t==="loading"&&e.jsx("div",{className:"loading",children:"Loading..."}),e.jsx("img",{src:s,alt:`Test ${o+1}`,onLoad:d,onError:i,style:{border:t==="success"?"2px solid green":t==="error"?"2px solid red":"2px solid gray",maxWidth:"200px",maxHeight:"200px"}})]})]})},x=()=>(a.useEffect(()=>{console.log("Environment variables:",{NODE_ENV:"production",REACT_APP_API_URL:c.REACT_APP_API_URL}),console.log("API Base URL:",c.REACT_APP_API_URL||"http://localhost:3000/api")},[]),e.jsxs("div",{className:"test-image-page",children:[e.jsx("h1",{children:"Image Loading Test"}),e.jsx("div",{className:"test-explanation",children:e.jsx("p",{children:"This page tests various image loading scenarios to help debug issues."})}),e.jsx("div",{className:"test-grid",children:g.map((s,o)=>e.jsx(m,{url:s,index:o},o))})]}));export{x as default};
